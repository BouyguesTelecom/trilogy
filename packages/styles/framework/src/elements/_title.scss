@use "sass:list";
@use "../base/color";
@use "../utilities/derived-variables";
@use "../utilities/initial-variables";
@use "../utilities/mixins";

@use 'sass:math';

$title-weight: initial-variables.$weight-semibold;
$title-line-height: 1.1;
$title-strong-color: inherit;
$title-strong-weight: inherit;
$title-sub-size: 0.5em;
$title-sup-size: 0.5em;

$subtitle-size: initial-variables.$text-16;
$subtitle-weight: initial-variables.$weight-medium;
$subtitle-size-tablet: initial-variables.$text-15;
$subtitle-line-height: 1.2;
$subtitle-strong-weight: initial-variables.$weight-semibold;

$overline-size: initial-variables.$text-14;
$overline-weight: initial-variables.$weight-semibold;
$overline-line-height: 1.2;
$overline-size-tablet: initial-variables.$text-15;

$title-levels: (
    (initial-variables.$text-48, initial-variables.$text-58, derived-variables.$family-secondary),
    (initial-variables.$text-36, initial-variables.$text-44, derived-variables.$family-secondary),
    (initial-variables.$text-28, initial-variables.$text-32, derived-variables.$family-primary),
    (initial-variables.$text-24, initial-variables.$text-28, derived-variables.$family-primary),
    (initial-variables.$text-20, initial-variables.$text-24, derived-variables.$family-primary),
    (initial-variables.$text-16, initial-variables.$text-20, derived-variables.$family-primary)
);
$title-levels-mobile: (
    (initial-variables.$text-32, initial-variables.$text-38),
    (initial-variables.$text-28, initial-variables.$text-34),
    (initial-variables.$text-22, initial-variables.$text-26),
    (initial-variables.$text-20, initial-variables.$text-24),
    (initial-variables.$text-18, initial-variables.$text-22),
    (initial-variables.$text-16, initial-variables.$text-20)
);

.title,
.subtitle,
.overline {
  word-break: break-word;

  em,
  span {
    font-weight: inherit;
  }

  .tag {
    vertical-align: middle;
  }
}

.title {
  font-size: initial-variables.$text-32;
  font-weight: $title-weight;
  line-height: $title-line-height;

  // new typography
  @each $title-level in $title-levels {
    $i: list.index($title-levels, $title-level);
    $font-size: list.nth($title-level, 1);
    $line-height: list.nth($title-level, 2);
    $font-family: list.nth($title-level, 3);

    &.is-level-#{$i} {
      font-size: $font-size;
      line-height: $line-height;
      font-family: $font-family;
    }

    &.is-medium {
      font-weight: initial-variables.$weight-medium;
    }

    &.is-inverted {
      color: color.getColor('background');
    }

    .details {
      font-size: 80%;
      color: color.getColor('neutral');
      font-weight: initial-variables.$weight-normal;
    }

    &.is-section-title {
      text-align: center;
    }

    @include mixins.tablet {
      font-size: initial-variables.$text-40;
    }

    sup {
      top: -0.5em;
      font-size: $title-sup-size;
    }

    sub {
      bottom: -0.5em;
      font-size: $title-sub-size;
    }

    &.is-centered {
      text-align: center;
    }
  }

  @include mixins.mobile {
    @each $title-level-mobile in $title-levels-mobile {
      $i: list.index($title-levels-mobile, $title-level-mobile);
      $font-size-mobile: list.nth($title-level-mobile, 1);
      $line-height-mobile: list.nth($title-level-mobile, 2);
      &.is-level-#{$i} {
        font-size: $font-size-mobile;
        line-height: $line-height-mobile;
      }
    }
  }
}

.subtitle {
  color: color.getColor('font');
  font-size: $subtitle-size;
  font-weight: $subtitle-weight;
  line-height: $subtitle-line-height;

  &.is-inverted {
    color: color.getColor('background');
  }
}

.overline {
  color: color.getColor('font');
  font-size: $overline-size;
  font-weight: $overline-weight;
  line-height: $overline-line-height;

  &.is-inverted {
    color: color.getColor('background');
  }
}
