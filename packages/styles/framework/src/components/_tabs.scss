@use "../base/color";
@use "../utilities/initial-variables";
@use "../utilities/mixins";
@use "../utilities/spacing";

.tabs {
  @include mixins.overflow-touch;
  @include mixins.unselectable;

  align-items: stretch;
  justify-content: space-between;
  font-weight: initial-variables.$weight-normal;
  width: 100%;
  text-align: center;
  overflow: scroll;
  overflow: -moz-scrollbars-none !important;
  -ms-overflow-style: none !important;
  scrollbar-width: none;

  @include mixins.mobile {
    text-align: left;
  }

  &::-webkit-scrollbar {
    width: 0 !important;
    height: 0 !important;
  }

  &.is-inverted {
    background-color: color.getColor('font');

    .tab-list > .tab {
      color: color.getColor('background') !important;

      &.is-active {
        border-bottom-color: currentColor;
      }

      #{initial-variables.$hoverSelector} {
        color: color.getColor('background') !important;
        cursor: pointer;
      }

      &:focus-visible {
        border-color: color.getColor('background');
      }

    }
  }

  &:has(.tab-list.is-aligned-start) {
    text-align: left;
  }

  &:has(.tab-list.is-aligned-end) {
    text-align: right;
  }

  .tab-list {
    background-color: transparent;
    height: 48px;
    overflow-x: auto;
    white-space: nowrap;
    display: inline-flex;

    &.is-fullwidth {
      @include mixins.desktop {
        > * {
          flex-grow: 1;
          flex-shrink: 0;
        }
      }
    }

    &.is-clipped {
      box-shadow: none;
    }

    @include mixins.mobile {
      justify-content: flex-start;
      > .tab:first-child {
        margin-left: 24px;
      }
    }

    &:has(.tab .icon) {
      height: 64px;
    }

    > .tab {
      height: calc(100% - 4px);
      background-color: transparent;
      color: color.getColor('font');
      text-decoration: none;
      outline: none;
      padding: 6px 14px;
      font-size: initial-variables.$text-14;
      border: 0 solid transparent;
      border-bottom: 2px solid transparent;

      @include mixins.desktop {
        font-size: initial-variables.$text-16;
      }

      .tab-icon {
        margin-top: 2px;
      }

      &:not(button) {
        .tab-icon {
          margin-top: 4px;
        }
      }

      @include mixins.mobile {
        font-size: initial-variables.$text-14;
      }

      &.is-active {
        color: color.getColor('main');
        position: relative;
        border-bottom-color: color.getColor('main');
        font-weight: initial-variables.$weight-medium;
      }

      &:hover:not(.is-disabled) {
        color: color.getColor('main');
        border-bottom-color: currentColor;
        cursor: pointer;

        .icon.is-small [class^=tri-]::before, .icon.is-small [class*=" tri-"]::before {
          font-size: 22px !important;
          background-color: currentColor;
        }
      }

      &:focus-visible {
        border-color: currentColor;
        color: color.getColor('main');
      }

      .icon {
        height: 0;
      }

      .icon.is-small, .icon.is-small {
        font-size: 22px;
      }

      &[disabled], &[aria-disabled=true] {
        background-color: transparent !important;
        border-bottom-color: transparent !important;
        &.is-active{
          border-bottom-color: currentColor !important;
        }
      }

    }
  }

  .tab-panels {
    padding-top: spacing.$spacing-3;
    padding-bottom: spacing.$spacing-3;

    .tab-panel {
      transition: opacity 2s ease-in-out;
      transition-delay: 1s;

      &:not(.is-active) {
        display: none;
      }

      &.is-active {
        animation: fade-in 250ms;
      }

      @keyframes fade-in {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    }
  }
}
